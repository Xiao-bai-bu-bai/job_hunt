{% extends 'layout_list.html' %}

{% block content %}

    <div style="margin-bottom: 10px; display: flex; align-items: center;">
        <a class="btn btn-success" href="{% url 'major_add_name' %}">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>添加专业</a>

        <form method="get" action="{% url 'major_query_name' %}" style="margin-left: 10px;">
            <label>
                <input type="text" name="qn" value="{{ query }}" placeholder="查询专业名称">
            </label>
            <button type="submit" class="btn btn-info">
                <span class="glyphicon glyphicon-search" aria-hidden="true"></span> 搜索
            </button>
        </form>
    </div>


    <table class="table table-striped">
        <thead>
        <tr>
            <th>序号</th>
            <th>专业名称</th>
            <th>开设学校</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        {% for major in major_objects %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ major.major.name }}</td>
                <td>{{ major.school.name }}</td>
                <td>
                    <a href="/major/delete/?aid={{ major.major.id }}" class="btn btn-warning">删除</a>
                    <a href="{% url 'major_edit_name' %}?aid={{ major.major.id }}" class="btn btn-danger">修改</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}